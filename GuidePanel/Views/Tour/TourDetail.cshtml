@using Dto.ApiPanelDtos.ProductDtos.TourDtos;
@using Dto.ApiWebDtos.GeneralDtos;
@model TourDetailDto
@{
    ViewData["Title"] = "TourDetail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="card">
    <div class="card-body">
        <h4 class="header-title mb-3">
            <a href="/Tour/Index">Tour List</a> > Tour Detail > <span class="fw-normal fs-5">@Model.ProductName</span>
        </h4>
        @await Component.InvokeAsync("TourDetailHeader")
       @* <ul class="nav nav-tabs nav-bordered mb-3">
            <li class="nav-item">
                <a href="/Tour/TourDetail/@ViewBag.ProductID" class="nav-link active">
                    <i class="mdi mdi-information-outline d-md-none d-block"></i>
                    <span class="d-none d-md-block">General Info</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/Tour/TourDetailImage/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-account-circle d-md-none d-block"></i>
                    <span class="d-none d-md-block">Images</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/Tour/TourDetailPrice/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-currency-usd d-md-none d-block"></i>
                    <span class="d-none d-md-block">Pricing - Number of Days</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/Tour/TourDetailAdditionalService/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-currency-usd d-md-none d-block"></i>
                    <span class="d-none d-md-block">Pricing - Additional Service</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/Tour/TourDetailBlog/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-newspaper d-md-none d-block"></i>
                    <span class="d-none d-md-block">Blog</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/Tour/TourDetailSellLimit/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-currency-usd d-md-none d-block"></i>
                    <span class="d-none d-md-block">Sell Limit</span>
                </a>
            </li>
            <li class="nav-item">

                <a href="/Tour/TourFaqList/@ViewBag.ProductID" class="nav-link">
                    <i class="mdi mdi-currency-usd d-md-none d-block"></i>
                    <span class="d-none d-md-block">Tour F.A.Q</span>
                </a>
            </li>*@
         

        </ul>

        <div class=" mt-3 mb-2 clearfix">
            <button data-bs-toggle="modal" data-bs-target="#post-tour" type="button" class="btn btn-primary float-end px-3 ms-2">Post the Tour</button>
            @* <button data-bs-toggle="modal" data-bs-target="#clone-tour" type="button" class="btn btn-secondary float-end px-3">Clone Tour</button> *@
        </div>

        <table id="scroll-horizontal-datatable" class=" table w-100 nowrap table-bordered">
            <tbody>
                <tr>
                    <th>
                        Product Name
                    </th>
                    <td>
                        @Model.ProductName
                    </td>
                </tr>
                <tr>
                    <th>
                        Operator Agent
                    </th>
                    <td>
                        @Model.OperatorAgent
                    </td>
                </tr>
                <tr>
                    <th>
                        Tour Status
                    </th>
                    <td>
                        @Model.Status
                    </td>
                </tr>
                <tr>
                    <th>
                        Per Person/Group
                    </th>
                    <td>
                        @if (Model.IsPerPerson)
                        {
                            <span>Per Person</span>
                        }
                        else
                        {
                            <span>Per Group</span>
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Per Day/Product
                    </th>
                    <td>
                        @if (Model.IsPerDay)
                        {
                            <span>Per Day</span>
                        }
                        else
                        {
                            <span>Per Product</span>
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Tour Type
                    </th>
                    <td>
                        @Model.Type
                    </td>
                </tr>
                <tr>
                    <th>
                        Tour Segment
                    </th>
                    <td>
                        @Model.Segment
                    </td>
                </tr>
                <tr>
                    <th>
                        Start City
                    </th>
                    <td>
                        @Model.StartCity
                    </td>
                </tr>
                <tr>
                    <th>
                        Suggested Start Time
                    </th>
                    <td>
                        @Model.SuggestedStartTime
                    </td>
                </tr>
                <tr>
                    <th>
                        Destination
                    </th>
                    <td>
                        @for (int i = 0; i < Model.Destinations.Count; i++)
                        {
                            if (i == Model.Destinations.Count - 1)
                            {
                                <span>@Model.Destinations[i]</span>
                            }
                            else
                            {
                                <span>@Model.Destinations[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Categories
                    </th>
                    <td>
                        @for (int i = 0; i < Model.Categories.Count; i++)
                        {
                            if (i == Model.Categories.Count - 1)
                            {
                                <span>@Model.Categories[i]</span>
                            }
                            else
                            {
                                <span>@Model.Categories[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Inclusions
                    </th>
                    <td>
                        @for (int i = 0; i < Model.Inclusions.Count; i++)
                        {
                            if (i == Model.Inclusions.Count - 1)
                            {
                                <span>@Model.Inclusions[i]</span>
                            }
                            else
                            {
                                <span>@Model.Inclusions[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Exclusions
                    </th>
                    <td>
                        @for (int i = 0; i < Model.Exclusions.Count; i++)
                        {
                            if (i == Model.Exclusions.Count - 1)
                            {
                                <span>@Model.Exclusions[i]</span>
                            }
                            else
                            {
                                <span>@Model.Exclusions[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        SightsToSee
                    </th>
                    <td>
                        @for (int i = 0; i < Model.SightsToSee.Count; i++)
                        {
                            if (i == Model.SightsToSee.Count - 1)
                            {
                                <span>@Model.SightsToSee[i]</span>
                            }
                            else
                            {
                                <span>@Model.SightsToSee[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Duration
                    </th>
                    <td>
                        @Model.Duration
                    </td>
                </tr>
                <tr>
                    <th>
                        Selectable Days
                    </th>
                    <td>
                        @Model.SelectableDurations
                    </td>
                </tr>
                <tr>
                    <th>
                        Start Point
                    </th>
                    <td>
                        @Model.StartPoint
                    </td>
                </tr>
                <tr>
                    <th>
                        End Point
                    </th>
                    <td>
                        @Model.EndPoint
                    </td>
                </tr>
                <tr>
                    <th>
                        Cancellation Policy
                    </th>
                    <td>
                        @Model.CancellationPolicy
                    </td>
                </tr>
                <tr>
                    <th>
                        Tags
                    </th>
                    <td>
                        @for (int i = 0; i < Model.Tags.Count; i++)
                        {
                            if (i == Model.Tags.Count - 1)
                            {
                                <span>@Model.Tags[i]</span>
                            }
                            else
                            {
                                <span>@Model.Tags[i] - </span>
                            }
                        }
                    </td>
                </tr>
                <tr>
                    <th>
                        Cut Off Time
                    </th>
                    <td>
                        @Model.CutOffTime
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- Post Tour Modal -->
        <div id="post-tour" class="modal fade" tabindex="-1" role="dialog"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        Post Tour
                    </div>
                    <div class="modal-body p-2">
                        <form method="post" action="/Tour/PostTour">
                            <input hidden name="ProductID" value="@Model.ProductID" />
                            <div class="row mt-2">
                                <div class="col-sm-12 col-md-12  mb-3 mr-1">
                                    <label for="option-name" class="form-label fw-bold">
                                        Post To:<span class="text-danger fw-bold">*</span>
                                    </label>
                                    <select class="js-example-basic-multiple" id="Customer-Type" name="RoleTemplateIds" multiple="multiple">
                                        @foreach (var roleTemplate in (List<SelectListOptionDto>)ViewBag.RoleTemplateSelectList)
                                        {
                                            if (Model.PostedRoleTemplateIds.Contains(roleTemplate.OptionID))
                                            {
                                                <option selected value="@roleTemplate.OptionID">@roleTemplate.Option</option>
                                            }
                                            else
                                            {
                                                <option value="@roleTemplate.OptionID">@roleTemplate.Option</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <!-- Button -->
                                <div class="col-sm-12 mb-3 mr-1 d-flex flex-row-reverse bd-highlight">
                                    <button type="submit" class="btn btn-dark rounded-pill px-5 mt-3">
                                        POST
                                    </button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div>
        <!-- /. Post Tour Modal -->
        <!-- Clone Tour Modal -->
        <div id="clone-tour" class="modal fade" tabindex="-1" role="dialog"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        Clone Tour
                    </div>
                    <div class="modal-body p-2">
                        <form method="post" action="/Tour/CloneTour">
                            <input hidden name="ProductID" value="@Model.ProductID" />
                            <div class="col-sm-12 col-md-12  mb-3 mr-1">
                                <label for="option-name" class="form-label fw-bold">
                                    Product Name:<span class="text-danger fw-bold">*</span>
                                </label>
                                <input required class="form-control" name="ProductName" id="option-name">
                            </div>
                            <div class="row">
                                <!-- Button -->
                                <div class="col-sm-12 mb-3 mr-1 d-flex flex-row-reverse bd-highlight">
                                    <button type="submit" class="btn btn-dark rounded-pill px-5 mt-3">
                                        CREATE
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div>
        <!-- /. Clone Tour Modal -->
    </div>
</div>

